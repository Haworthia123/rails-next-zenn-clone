eslint:
  runs-on: ubuntu-latest
  steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: List directory for debugging
      run: ls -al

    - name: Clear npm cache
      run: npm cache clean --force

    - name: Install packages
      run: |
        npm install
      working-directory: next

    - name: Display npm error log
      if: failure()
      run: cat /home/runner/.npm/_logs/*-debug-*.log
      continue-on-error: true

    - name: Run lint
      run: npm run lint
      working-directory: next